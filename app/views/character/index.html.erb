<!DOCTYPE html>
<html>
  <head>
    <title>RpgWriter</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
  </head>
	<body style="background-color:black">
		<div class="nav-bar">
			<div style="margin: 1%; display:flex; justify-content: space-between">
				<button id="myBtn" class="create-button">Create Character</button>
				<button id="myBtn" class="create-button"><%= link_to "Log Out", log_out_path, class: "btn"%></button>
			</div>
			<%= form_with model: @character, url: character_path do |form| %>
			<div id="myModal" class="modal">
				<div class="modal-content">
					<div class="modal-header">
						<span class="close">&times;</span>
						<h2>Create Character</h2>
					</div>
					<div style="display:flex; justify-content:space-evenly">
						<div>
							<div>
								<%=  form.label :name %>
								<%= form.text_field :name, {class: "character-input", required: true}%>
							</div>
							<div>
								<%=  form.label :str %>
								<%= form.text_field :str, {class: "character-input", required: true}%>							
							</div>
							<div>
								<%=  form.label :int %>
								<%= form.text_field :int, {class: "character-input", required: true}%>							
							</div>
							<div>
								<%=  form.label :wis %>
								<%= form.text_field :wis, {class: "character-input", required: true}%>
							</div>		
							<div style="display:flex; flex-direction: column">
								<%= form.label :item%>
								<%= form.select :item_id, @item.map { |t| [t.name]}, {}, class: "item" %>
							</div>
							<div>
								<%=  form.label :city %>
								<%= form.text_field :city, {class: "character-input", required: true}%>
							</div>		
							<div>
								<%=  form.label :history %>
								<%= form.text_area :history, {class: "character-input-history", required: true}%>
							</div>				
						</div>
						<div>
							<div>
								<%=  form.label :classe %>
								<%= form.text_field :classe, {class: "character-input", required: true}%>
							</div>
							<div>
								<%=  form.label :dexterity %>
								<%= form.text_field :dex, {class: "character-input", required: true}%>
							</div>
							<div>
								<%=  form.label :con %>
								<%= form.text_field :con, {class: "character-input", required: true}%>
							</div>
							<div>
								<%=  form.label :cha %>
								<%= form.text_field :cha, {class: "character-input", required: true}%>
							</div>
							<div>
								<%=  form.label :race %>
								<%= form.text_field :race, {class: "character-input", required: true}%>
							</div>		
							<div>
								<%=  form.label :characteristics %>
								<%= form.text_field :characteristics, {class: "character-input", required: true}%>
							</div>
						</div>
					</div>
					<div>
						<%= form.submit "Criar"%>
					</div>
				</div>
			</div>
			<% end %>
		<div class="main-page">
			<% @characters.each do |c| %>
				<div class="character-div">
					<div style="margin-left:1%">
						<p class="character-name"><%= c.name%><p>
					</div>
					<div>
						<div style="display:flex">
							<div style="margin-right:10px">
								<button class="character-button"><%= link_to "Edit", edit_character_path(c.id), class:"btn" %></button>
							</div>
							<div style="margin-right: 20px">
								<button class="character-button"><%= link_to "delete", {:action => 'destroy', :id => c.id},class: "btn" %></button>
							</div>
						</div>
					</div>
				</div>
			<% end %>
		</div>
			<div class="modal fade" id="newModal">
  <div class="modal-dialog">
    <div class="modal-content">
    </div>
  </div>
</div>
  </body>
<script>
// Get the modal
var modal = document.getElementById("myModal");

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}



</script>

</html>